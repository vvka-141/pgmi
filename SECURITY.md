# Security Policy

## Supported Versions

| Version | Supported          |
| ------- | ------------------ |
| 1.x.x   | :white_check_mark: |
| < 1.0   | :x:                |

## Reporting a Vulnerability

**Please do not report security vulnerabilities through public GitHub issues.**

Instead, please report them via email to: **security@pgmi.dev** (or create a private security advisory on GitHub).

### What to Include

When reporting a vulnerability, please include:

- Description of the vulnerability
- Steps to reproduce
- Potential impact
- Suggested fix (if any)

### Response Timeline

- **Initial response**: Within 48 hours
- **Status update**: Within 7 days
- **Fix timeline**: Depends on severity (critical: ASAP, high: 30 days, medium: 90 days)

### Disclosure Policy

- We follow responsible disclosure practices
- We will coordinate with you on disclosure timing
- Credit will be given to reporters (unless anonymity is requested)

## Security Considerations

### Connection Strings

- Never commit connection strings with passwords to version control
- Use environment variables (`PGMI_CONNECTION_STRING`) for credentials
- For production, use Azure Entra ID, TLS client certificates (mTLS), or cloud IAM authentication

### Parameters

- Parameters passed via `--param` are stored in session-scoped temporary tables
- pgmi never logs or persists parameter values
- Avoid passing secrets as parameters when possible; use PostgreSQL's native secret management

### Template Code

- Template code (generated by `pgmi init`) is MIT-licensed and becomes your responsibility
- Review generated code before deploying to production
- Follow PostgreSQL security best practices (RLS, least privilege, etc.)

## Secure Development

Contributors should:

- Never commit secrets, API keys, or credentials
- Use `git-secrets` or similar tools to prevent accidental commits
- Follow secure coding practices for SQL (parameterized queries, input validation)
- Report any security concerns immediately
